{"ast":null,"code":"var _jsxFileName = \"/Users/veenguyen/Desktop/MS in Software Engineering/SE491/watchpad-portal/src/components/LoginForm.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState } from 'react';\nimport { Alert, Button, Form } from 'react-bootstrap';\nimport { useDispatch } from 'react-redux';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { loginSuccess } from '../redux/reducers/user/userSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction LoginForm(_ref) {\n  _s();\n\n  let {\n    setIsLoading,\n    setError,\n    error\n  } = _ref;\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  async function handleLoginSubmit(e) {\n    e.preventDefault();\n    setIsLoading(true);\n\n    try {\n      const {\n        data\n      } = await axios.post(`${process.env.REACT_APP_API_BASE_URL}/api/user/login`, {\n        email,\n        password\n      });\n      dispatch(loginSuccess(data));\n      navigate('/profile/user-info');\n    } catch (err) {\n      var _err$response;\n\n      if (!err.response) {\n        setError('Server currently is not running.');\n        setIsLoading(false);\n        return;\n      }\n\n      const errorMessage = err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data;\n      setError(errorMessage);\n      setIsLoading(false);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"danger\",\n      hidden: !error,\n      \"data-testid\": \"login-form-alert\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      className: \"text-center\",\n      onSubmit: e => handleLoginSubmit(e),\n      \"data-testid\": \"login-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Member Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"email\",\n          placeholder: \"Email\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          \"data-testid\": \"login-form-email-input-box\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"password\",\n          placeholder: \"Password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          \"data-testid\": \"login-form-password-input-box\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"text-center\",\n        type: \"submit\",\n        \"data-testid\": \"login-form-submit-button\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/sign-up\",\n        \"data-testid\": \"login-form-link-to-sign-up-page\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-3\",\n          children: \"Don't have an account?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(LoginForm, \"EnqBpp8OYg3QkLjkwaaSmFp0EPQ=\", false, function () {\n  return [useNavigate, useDispatch];\n});\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["/Users/veenguyen/Desktop/MS in Software Engineering/SE491/watchpad-portal/src/components/LoginForm.js"],"names":["axios","React","useState","Alert","Button","Form","useDispatch","Link","useNavigate","loginSuccess","LoginForm","setIsLoading","setError","error","email","setEmail","password","setPassword","navigate","dispatch","handleLoginSubmit","e","preventDefault","data","post","process","env","REACT_APP_API_BASE_URL","err","response","errorMessage","target","value"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport React, { useState } from 'react'\nimport { Alert, Button, Form } from 'react-bootstrap'\nimport { useDispatch } from 'react-redux'\nimport { Link, useNavigate } from 'react-router-dom'\nimport { loginSuccess } from '../redux/reducers/user/userSlice'\n\nfunction LoginForm({ setIsLoading, setError, error }) {\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n    const navigate = useNavigate()\n    const dispatch = useDispatch()\n\n    async function handleLoginSubmit(e) {\n        e.preventDefault()\n        setIsLoading(true)\n        try {\n            const { data } = await axios.post(\n                `${process.env.REACT_APP_API_BASE_URL}/api/user/login`,\n                { email, password }\n            )\n            dispatch(loginSuccess(data))\n            navigate('/profile/user-info')\n        } catch (err) {\n            if (!err.response) {\n                setError('Server currently is not running.')\n                setIsLoading(false)\n                return\n            }\n            const errorMessage = err?.response?.data\n            setError(errorMessage)\n            setIsLoading(false)\n        }\n    }\n\n    return (\n        <>\n            <Alert\n                variant=\"danger\"\n                hidden={!error}\n                data-testid=\"login-form-alert\"\n            >\n                {error}\n            </Alert>\n            <Form\n                className=\"text-center\"\n                onSubmit={(e) => handleLoginSubmit(e)}\n                data-testid=\"login-form\"\n            >\n                <h4>Member Login</h4>\n                <Form.Group className=\"mb-3\">\n                    <Form.Control\n                        type=\"email\"\n                        placeholder=\"Email\"\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                        data-testid=\"login-form-email-input-box\"\n                    />\n                </Form.Group>\n                <Form.Group className=\"mb-3\">\n                    <Form.Control\n                        type=\"password\"\n                        placeholder=\"Password\"\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                        data-testid=\"login-form-password-input-box\"\n                    />\n                </Form.Group>\n                <Button\n                    className=\"text-center\"\n                    type=\"submit\"\n                    data-testid=\"login-form-submit-button\"\n                >\n                    Login\n                </Button>\n                <Link\n                    to=\"/sign-up\"\n                    data-testid=\"login-form-link-to-sign-up-page\"\n                >\n                    <p className=\"mt-3\">Don't have an account?</p>\n                </Link>\n            </Form>\n        </>\n    )\n}\n\nexport default LoginForm\n"]},"metadata":{},"sourceType":"module"}